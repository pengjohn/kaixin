/*!
*@FileName: KaiXinApp_AlbumList.h
*@Author: GoZone
*@Date:
*@Log: 	Author 			Date 		Description
*
*@section Copyright
* =======================================================================<br>
*          Copyright ? 2010-2012 GOZONE <br>
*                All Rights Reserved.<br>
* The file is generated by Kaixin_Component Wizard for Tranzda Mobile Platform <br>
* =======================================================================<br>
*/

#ifndef  __KAIXINAPI_ALBUMLIST_H__
#define  __KAIXINAPI_ALBUMLIST_H__

#include "KaiXinAPI.h"

//相册列表最大条数
#define KX_ALBUM_LIST_ITEM_COUNT_MAX		(50)

typedef struct
{
	//int picnum;
	char picnum[16];	
	char privacy[8];
	char ctime[32];
	char mtime[32];
	char coverpid[256];
	char coverpic[256];
	char albumid[32];
	char title[256];
}AlbumList_albums;

typedef struct
{
	int ret;
	int uid;
	int n;
	int  nSize_albums;  //Save the array size by code_gen tools. 
	AlbumList_albums*  albums;
}tResponseAlbumList;


extern void* KaiXinAPI_AlbumList_JsonParse(char *text);

class TAlbumListForm : public TWindow
{
public:
	TAlbumListForm(TApplication* pApp);
	virtual ~TAlbumListForm(void);
	virtual Boolean EventHandler(TApplication * appP, EventType * eventP);

private:
	Boolean _OnWinInitEvent(TApplication * pApp, EventType * pEvent);
	Boolean _OnWinClose(TApplication * pApp, EventType * pEvent);
	Boolean _OnCtrlSelectEvent(TApplication * pApp, EventType * pEvent);
	Int32 _SetFormTilte(TApplication * pApp);
	Int32 _SetAlbumCoolBarList(TApplication* pApp);	
private:
	// define private data member here
	tResponseAlbumList* Response;

	//相册封面图
	Int32 nAlbumCoverImage[KX_ALBUM_LIST_ITEM_COUNT_MAX];//存TImage Ctrl ID
	TImage* pAlbumCoverImage[KX_ALBUM_LIST_ITEM_COUNT_MAX];//存TImage Ctrl 指针
	TBitmap* pAlbumCoverBmp[KX_ALBUM_LIST_ITEM_COUNT_MAX];
	Int32 m_nAlbumItemCount;

	Int32	m_BackBtn;
};
#endif
