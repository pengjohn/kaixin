/*!
*@FileName: KaiXinApp_GetUserInfos.h
*@Author: GoZone
*@Date:
*@Log: 	Author 			Date 		Description
*
*@section Copyright
* =======================================================================<br>
*          Copyright ? 2010-2012 GOZONE <br>
*                All Rights Reserved.<br>
* The file is generated by Kaixin_Component Wizard for Tranzda Mobile Platform <br>
* =======================================================================<br>
*/

#ifndef  __KAIXINAPI_GETUSERINFOS_H__
#define  __KAIXINAPI_GETUSERINFOS_H__

#include "KaiXinAPI.h"

typedef struct
{
	char py[32 + 1];
}GetUserInfos_py;

typedef struct
{
	char fpy[8 + 1];
}GetUserInfos_fpy;

typedef struct
{
	char school[128*3 + 1];
	char classEx[128*3 + 1];
	//int year;
	char year[8];	
}GetUserInfos_education;

typedef struct
{
	char company[128*3 + 1];
	char dept[128*3 + 1];
	char beginyear[8];
	char beginmonth[8];
	char endyear[8];
	char endmonth[8];
}GetUserInfos_career;

typedef struct
{
	char fuid[32];
	char fname[32*3 + 1];
	int gender;
	int online;
	int  nSize_py;  //Save the array size by code_gen tools. 
	GetUserInfos_py*  py;
	int  nSize_fpy;  //Save the array size by code_gen tools. 
	GetUserInfos_fpy*  fpy;
	char birthday[32 + 1];
	char birthdaynew[32 + 1];
	int stateid;
	char state[1024*3 + 1];
	int statetime;
	char flogo[128*3 + 1];
	char flogo90[128*3 + 1];
	char city[64*3 + 1];
	char hometown[256*3 + 1];
	char interest[1024*3 + 1];
	char mobile[20 + 1];
	char tel[64 + 1];
	char qq[20 + 1];
	char msn[128 + 1];
	char address[1024 + 1];
	char zip[20 + 1];
	char email[128 + 1];
	int  nSize_education;  //Save the array size by code_gen tools. 
	GetUserInfos_education*  education;
	int  nSize_career;  //Save the array size by code_gen tools. 
	GetUserInfos_career*  career;
}GetUserInfos_friends;

typedef struct
{
	int ret;
	char uid[32 + 1];
	int n;
	int  nSize_friends;  //Save the array size by code_gen tools. 
	GetUserInfos_friends*  friends;
}tResponseGetUserInfos;


extern void* KaiXinAPI_GetUserInfos_JsonParse(char *text);

class TGetUserInfosForm : public TWindow
{
public:
	TGetUserInfosForm(TApplication* pApp);
	virtual ~TGetUserInfosForm(void);
	virtual Boolean EventHandler(TApplication * appP, EventType * eventP);

private:	
	Boolean _OnWinInitEvent(TApplication * pApp, EventType * pEvent);
	Boolean _OnWinClose(TApplication * pApp, EventType * pEvent);
	Boolean _OnCtrlSelectEvent(TApplication * pApp, EventType * pEvent);
	int SetTilteLabel(TApplication * pApp, TUChar* pszTitleLabel, Int32 nResId);
	int SetTilteButton(TApplication * pApp);	
	void _DownloadCountJason();		
	void _SetCountToCtrls(TApplication* pApp, Int32 accessType);
	Int32 _CreateFunctionButtons(TApplication* pApp);

private:
	char gFuid[32];
	char gFname[32*3+1];
	TBitmap* pPhotoBmp;	
	Int32 	m_BackBtn;


	//保存主页功能按钮ButtonID
	Int32 m_nPhotosBtnID;//照片
	Int32 m_nDiarysBtnID;//日记
	Int32 m_nRecordsBtnID;//记录
	Int32 m_nRepastesBtnID;//转帖
	Int32 m_nRecentNewsBtnID;//最新动态
	Int32 m_nFriendsBtnID;//他的好友
	Int32 m_nSendMessageBtnID;//发信息
	Int32 m_nWriteCommentBtnID;//写留言
	Int32 m_nSendGiftBtnID;//送礼物

};

#endif