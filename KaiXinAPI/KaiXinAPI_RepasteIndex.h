/*!
*@FileName: KaiXinApp_RepasteIndex.h
*@Author: GoZone
*@Date:
*@Log: 	Author 			Date 		Description
*
*@section Copyright
* =======================================================================<br>
*          Copyright ? 2010-2012 GOZONE <br>
*                All Rights Reserved.<br>
* The file is generated by Kaixin_Component Wizard for Tranzda Mobile Platform <br>
* =======================================================================<br>
*/

#ifndef  __KAIXINAPI_REPASTEINDEX_H__
#define  __KAIXINAPI_REPASTEINDEX_H__

#include "KaiXinAPI.h"

#define KX_REPASTE_COUNT_MAX 		(200)

typedef struct
{
	char id[32];
	char title[1024];
	int ctime;
	char strctime[32];
}RepasteIndex_replists;

typedef struct
{
	int ret;
	char uid[16];
	char szTotal[16];
	int total;
	int  nSize_replists;  //Save the array size by code_gen tools. 
	RepasteIndex_replists*  replists;
}tResponseRepasteIndex;


extern void* KaiXinAPI_RepasteIndex_JsonParse(char *text);



typedef struct
{
	char  id[32];				//id
}tRepasteIndex_ItemData;


class TRepasteIndexForm : public TWindow
{
public:
	TRepasteIndexForm(TApplication* pApp);
	virtual ~TRepasteIndexForm(void);
	virtual Boolean EventHandler(TApplication * appP, EventType * eventP);

private:
	Boolean _OnWinInitEvent(TApplication * pApp, EventType * pEvent);
	Boolean _OnWinClose(TApplication * pApp, EventType * pEvent);
	Boolean _OnCtrlSelectEvent(TApplication * pApp, EventType * pEvent);
	Boolean _TRepasteIndexForm_Init(TApplication* pApp);
	Boolean _UpdateCoolBarList(TApplication* pApp, tResponseRepasteIndex* Response);

protected:
	Int32 m_ItemCount;		//条数统计,包括更多的
	tRepasteIndex_ItemData   gItemData[KX_REPASTE_COUNT_MAX];
	Int32	m_BackBtn;
	Int32      m_MoreID;
};

#endif
